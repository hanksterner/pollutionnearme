PS D:\pollutionnearme> Remove-Item data/tri.json
PS D:\pollutionnearme> node scripts/simplify-tri.js data/tri-pa_raw.json data/tri.json
📂 Reading from data/tri-pa_raw.json
📄 Will write simplified output to data/tri.json
🔎 Row 0 keys: [
  'YEAR',
  'TRIFD',
  'FRS ID',
  'FACILITY NAME',
  'STREET ADDRESS',
  'CITY',
  'COUNTY',
  'ST',
  'ZIP',
  'BIA',
  'TRIBE',
  'LATITUDE',
  'LONGITUDE',
  'HORIZONTAL DATUM',
  'PARENT CO NAME',
  'PARENT CO DB NUM',
  'STANDARD PARENT CO NAME',
  'FOREIGN PARENT CO NAME',
  'FOREIGN PARENT CO DB NUM',
  'STANDARD FOREIGN PARENT CO NAME',
  'FEDERAL FACILITY',
  'INDUSTRY SECTOR CODE',
  'INDUSTRY SECTOR',
  'PRIMARY SIC',
  'SIC 2',
  'SIC 3',
  'SIC 4',
  'SIC 5',
  'SIC 6',
  'PRIMARY NAICS',
  'NAICS 2',
  'NAICS 3',
  'NAICS 4',
  'NAICS 5',
  'NAICS 6',
  'DOC_CTRL_NUM',
  'CHEMICAL',
  'ELEMENTAL METAL INCLUDED',
  'TRI CHEMICAL/COMPOUND ID',
  'CAS#',
  'SRS ID',
  'CLEAN AIR ACT CHEMICAL',
  'CLASSIFICATION',
  'METAL',
  'METAL CATEGORY',
  'CARCINOGEN',
  'PBT',
  'PFAS',
  'FORM TYPE',
  'UNIT OF MEASURE',
  '5.1 - FUGITIVE AIR',
  '5.2 - STACK AIR',
  '5.3 - WATER',
  '5.4 - UNDERGROUND',
  '5.4.1 - UNDERGROUND CL I',
  '5.4.2 - UNDERGROUND C II-V',
  '5.5.1 - LANDFILLS',
  '5.5.1A - RCRA C LANDFILL',
  '5.5.1B - OTHER LANDFILLS',
  '5.5.2 - LAND TREATMENT',
  '5.5.3 - SURFACE IMPNDMNT',
  '5.5.3A - RCRA SURFACE IM',
  '5.5.3B - OTHER SURFACE I',
  '5.5.4 - OTHER DISPOSAL',
  'ON-SITE RELEASE TOTAL',
  '6.1 - POTW - TRNS RLSE',
  '6.1 - POTW - TRNS TRT',
  'POTW - TOTAL TRANSFERS',
  '6.2 - M10',
  '6.2 - M41',
  '6.2 - M62',
  '6.2 - M40 METAL',
  '6.2 - M61 METAL',
  '6.2 - M71',
  '6.2 - M81',
  '6.2 - M82',
  '6.2 - M72',
  '6.2 - M63',
  '6.2 - M66',
  '6.2 - M67',
  '6.2 - M64',
  '6.2 - M65',
  '6.2 - M73',
  '6.2 - M79',
  '6.2 - M90',
  '6.2 - M94',
  '6.2 - M99',
  'OFF-SITE RELEASE TOTAL',
  '6.2 - M20',
  '6.2 - M24',
  '6.2 - M26',
  '6.2 - M28',
  '6.2 - M93',
  'OFF-SITE RECYCLED TOTAL',
  '6.2 - M56',
  '6.2 - M92',
  'OFF-SITE ENERGY RECOVERY T',
  '6.2 - M40 NON-METAL',
  '6.2 - M50',
  '6.2 - M54',
  ... 22 more items
]
🔎 Row 1 keys: [
  'YEAR',
  'TRIFD',
  'FRS ID',
  'FACILITY NAME',
  'STREET ADDRESS',
  'CITY',
  'COUNTY',
  'ST',
  'ZIP',
  'BIA',
  'TRIBE',
  'LATITUDE',
  'LONGITUDE',
  'HORIZONTAL DATUM',
  'PARENT CO NAME',
  'PARENT CO DB NUM',
  'STANDARD PARENT CO NAME',
  'FOREIGN PARENT CO NAME',
  'FOREIGN PARENT CO DB NUM',
  'STANDARD FOREIGN PARENT CO NAME',
  'FEDERAL FACILITY',
  'INDUSTRY SECTOR CODE',
  'INDUSTRY SECTOR',
  'PRIMARY SIC',
  'SIC 2',
  'SIC 3',
  'SIC 4',
  'SIC 5',
  'SIC 6',
  'PRIMARY NAICS',
  'NAICS 2',
  'NAICS 3',
  'NAICS 4',
  'NAICS 5',
  'NAICS 6',
  'DOC_CTRL_NUM',
  'CHEMICAL',
  'ELEMENTAL METAL INCLUDED',
  'TRI CHEMICAL/COMPOUND ID',
  'CAS#',
  'SRS ID',
  'CLEAN AIR ACT CHEMICAL',
  'CLASSIFICATION',
  'METAL',
  'METAL CATEGORY',
  'CARCINOGEN',
  'PBT',
  'PFAS',
  'FORM TYPE',
  'UNIT OF MEASURE',
  '5.1 - FUGITIVE AIR',
  '5.2 - STACK AIR',
  '5.3 - WATER',
  '5.4 - UNDERGROUND',
  '5.4.1 - UNDERGROUND CL I',
  '5.4.2 - UNDERGROUND C II-V',
  '5.5.1 - LANDFILLS',
  '5.5.1A - RCRA C LANDFILL',
  '5.5.1B - OTHER LANDFILLS',
  '5.5.2 - LAND TREATMENT',
  '5.5.3 - SURFACE IMPNDMNT',
  '5.5.3A - RCRA SURFACE IM',
  '5.5.3B - OTHER SURFACE I',
  '5.5.4 - OTHER DISPOSAL',
  'ON-SITE RELEASE TOTAL',
  '6.1 - POTW - TRNS RLSE',
  '6.1 - POTW - TRNS TRT',
  'POTW - TOTAL TRANSFERS',
  '6.2 - M10',
  '6.2 - M41',
  '6.2 - M62',
  '6.2 - M40 METAL',
  '6.2 - M61 METAL',
  '6.2 - M71',
  '6.2 - M81',
  '6.2 - M82',
  '6.2 - M72',
  '6.2 - M63',
  '6.2 - M66',
  '6.2 - M67',
  '6.2 - M64',
  '6.2 - M65',
  '6.2 - M73',
  '6.2 - M79',
  '6.2 - M90',
  '6.2 - M94',
  '6.2 - M99',
  'OFF-SITE RELEASE TOTAL',
  '6.2 - M20',
  '6.2 - M24',
  '6.2 - M26',
  '6.2 - M28',
  '6.2 - M93',
  'OFF-SITE RECYCLED TOTAL',
  '6.2 - M56',
  '6.2 - M92',
  'OFF-SITE ENERGY RECOVERY T',
  '6.2 - M40 NON-METAL',
  '6.2 - M50',
  '6.2 - M54',
  ... 22 more items
]
🔎 Row 2 keys: [
  'YEAR',
  'TRIFD',
  'FRS ID',
  'FACILITY NAME',
  'STREET ADDRESS',
  'CITY',
  'COUNTY',
  'ST',
  'ZIP',
  'BIA',
  'TRIBE',
  'LATITUDE',
  'LONGITUDE',
  'HORIZONTAL DATUM',
  'PARENT CO NAME',
  'PARENT CO DB NUM',
  'STANDARD PARENT CO NAME',
  'FOREIGN PARENT CO NAME',
  'FOREIGN PARENT CO DB NUM',
  'STANDARD FOREIGN PARENT CO NAME',
  'FEDERAL FACILITY',
  'INDUSTRY SECTOR CODE',
  'INDUSTRY SECTOR',
  'PRIMARY SIC',
  'SIC 2',
  'SIC 3',
  'SIC 4',
  'SIC 5',
  'SIC 6',
  'PRIMARY NAICS',
  'NAICS 2',
  'NAICS 3',
  'NAICS 4',
  'NAICS 5',
  'NAICS 6',
  'DOC_CTRL_NUM',
  'CHEMICAL',
  'ELEMENTAL METAL INCLUDED',
  'TRI CHEMICAL/COMPOUND ID',
  'CAS#',
  'SRS ID',
  'CLEAN AIR ACT CHEMICAL',
  'CLASSIFICATION',
  'METAL',
  'METAL CATEGORY',
  'CARCINOGEN',
  'PBT',
  'PFAS',
  'FORM TYPE',
  'UNIT OF MEASURE',
  '5.1 - FUGITIVE AIR',
  '5.2 - STACK AIR',
  '5.3 - WATER',
  '5.4 - UNDERGROUND',
  '5.4.1 - UNDERGROUND CL I',
  '5.4.2 - UNDERGROUND C II-V',
  '5.5.1 - LANDFILLS',
  '5.5.1A - RCRA C LANDFILL',
  '5.5.1B - OTHER LANDFILLS',
  '5.5.2 - LAND TREATMENT',
  '5.5.3 - SURFACE IMPNDMNT',
  '5.5.3A - RCRA SURFACE IM',
  '5.5.3B - OTHER SURFACE I',
  '5.5.4 - OTHER DISPOSAL',
  'ON-SITE RELEASE TOTAL',
  '6.1 - POTW - TRNS RLSE',
  '6.1 - POTW - TRNS TRT',
  'POTW - TOTAL TRANSFERS',
  '6.2 - M10',
  '6.2 - M41',
  '6.2 - M62',
  '6.2 - M40 METAL',
  '6.2 - M61 METAL',
  '6.2 - M71',
  '6.2 - M81',
  '6.2 - M82',
  '6.2 - M72',
  '6.2 - M63',
  '6.2 - M66',
  '6.2 - M67',
  '6.2 - M64',
  '6.2 - M65',
  '6.2 - M73',
  '6.2 - M79',
  '6.2 - M90',
  '6.2 - M94',
  '6.2 - M99',
  'OFF-SITE RELEASE TOTAL',
  '6.2 - M20',
  '6.2 - M24',
  '6.2 - M26',
  '6.2 - M28',
  '6.2 - M93',
  'OFF-SITE RECYCLED TOTAL',
  '6.2 - M56',
  '6.2 - M92',
  'OFF-SITE ENERGY RECOVERY T',
  '6.2 - M40 NON-METAL',
  '6.2 - M50',
  '6.2 - M54',
  ... 22 more items
]
🔎 Row 3 keys: [
  'YEAR',
  'TRIFD',
  'FRS ID',
  'FACILITY NAME',
  'STREET ADDRESS',
  'CITY',
  'COUNTY',
  'ST',
  'ZIP',
  'BIA',
  'TRIBE',
  'LATITUDE',
  'LONGITUDE',
  'HORIZONTAL DATUM',
  'PARENT CO NAME',
  'PARENT CO DB NUM',
  'STANDARD PARENT CO NAME',
  'FOREIGN PARENT CO NAME',
  'FOREIGN PARENT CO DB NUM',
  'STANDARD FOREIGN PARENT CO NAME',
  'FEDERAL FACILITY',
  'INDUSTRY SECTOR CODE',
  'INDUSTRY SECTOR',
  'PRIMARY SIC',
  'SIC 2',
  'SIC 3',
  'SIC 4',
  'SIC 5',
  'SIC 6',
  'PRIMARY NAICS',
  'NAICS 2',
  'NAICS 3',
  'NAICS 4',
  'NAICS 5',
  'NAICS 6',
  'DOC_CTRL_NUM',
  'CHEMICAL',
  'ELEMENTAL METAL INCLUDED',
  'TRI CHEMICAL/COMPOUND ID',
  'CAS#',
  'SRS ID',
  'CLEAN AIR ACT CHEMICAL',
  'CLASSIFICATION',
  'METAL',
  'METAL CATEGORY',
  'CARCINOGEN',
  'PBT',
  'PFAS',
  'FORM TYPE',
  'UNIT OF MEASURE',
  '5.1 - FUGITIVE AIR',
  '5.2 - STACK AIR',
  '5.3 - WATER',
  '5.4 - UNDERGROUND',
  '5.4.1 - UNDERGROUND CL I',
  '5.4.2 - UNDERGROUND C II-V',
  '5.5.1 - LANDFILLS',
  '5.5.1A - RCRA C LANDFILL',
  '5.5.1B - OTHER LANDFILLS',
  '5.5.2 - LAND TREATMENT',
  '5.5.3 - SURFACE IMPNDMNT',
  '5.5.3A - RCRA SURFACE IM',
  '5.5.3B - OTHER SURFACE I',
  '5.5.4 - OTHER DISPOSAL',
  'ON-SITE RELEASE TOTAL',
  '6.1 - POTW - TRNS RLSE',
  '6.1 - POTW - TRNS TRT',
  'POTW - TOTAL TRANSFERS',
  '6.2 - M10',
  '6.2 - M41',
  '6.2 - M62',
  '6.2 - M40 METAL',
  '6.2 - M61 METAL',
  '6.2 - M71',
  '6.2 - M81',
  '6.2 - M82',
  '6.2 - M72',
  '6.2 - M63',
  '6.2 - M66',
  '6.2 - M67',
  '6.2 - M64',
  '6.2 - M65',
  '6.2 - M73',
  '6.2 - M79',
  '6.2 - M90',
  '6.2 - M94',
  '6.2 - M99',
  'OFF-SITE RELEASE TOTAL',
  '6.2 - M20',
  '6.2 - M24',
  '6.2 - M26',
  '6.2 - M28',
  '6.2 - M93',
  'OFF-SITE RECYCLED TOTAL',
  '6.2 - M56',
  '6.2 - M92',
  'OFF-SITE ENERGY RECOVERY T',
  '6.2 - M40 NON-METAL',
  '6.2 - M50',
  '6.2 - M54',
  ... 22 more items
]
🔎 Row 4 keys: [
  'YEAR',
  'TRIFD',
  'FRS ID',
  'FACILITY NAME',
  'STREET ADDRESS',
  'CITY',
  'COUNTY',
  'ST',
  'ZIP',
  'BIA',
  'TRIBE',
  'LATITUDE',
  'LONGITUDE',
  'HORIZONTAL DATUM',
  'PARENT CO NAME',
  'PARENT CO DB NUM',
  'STANDARD PARENT CO NAME',
  'FOREIGN PARENT CO NAME',
  'FOREIGN PARENT CO DB NUM',
  'STANDARD FOREIGN PARENT CO NAME',
  'FEDERAL FACILITY',
  'INDUSTRY SECTOR CODE',
  'INDUSTRY SECTOR',
  'PRIMARY SIC',
  'SIC 2',
  'SIC 3',
  'SIC 4',
  'SIC 5',
  'SIC 6',
  'PRIMARY NAICS',
  'NAICS 2',
  'NAICS 3',
  'NAICS 4',
  'NAICS 5',
  'NAICS 6',
  'DOC_CTRL_NUM',
  'CHEMICAL',
  'ELEMENTAL METAL INCLUDED',
  'TRI CHEMICAL/COMPOUND ID',
  'CAS#',
  'SRS ID',
  'CLEAN AIR ACT CHEMICAL',
  'CLASSIFICATION',
  'METAL',
  'METAL CATEGORY',
  'CARCINOGEN',
  'PBT',
  'PFAS',
  'FORM TYPE',
  'UNIT OF MEASURE',
  '5.1 - FUGITIVE AIR',
  '5.2 - STACK AIR',
  '5.3 - WATER',
  '5.4 - UNDERGROUND',
  '5.4.1 - UNDERGROUND CL I',
  '5.4.2 - UNDERGROUND C II-V',
  '5.5.1 - LANDFILLS',
  '5.5.1A - RCRA C LANDFILL',
  '5.5.1B - OTHER LANDFILLS',
  '5.5.2 - LAND TREATMENT',
  '5.5.3 - SURFACE IMPNDMNT',
  '5.5.3A - RCRA SURFACE IM',
  '5.5.3B - OTHER SURFACE I',
  '5.5.4 - OTHER DISPOSAL',
  'ON-SITE RELEASE TOTAL',
  '6.1 - POTW - TRNS RLSE',
  '6.1 - POTW - TRNS TRT',
  'POTW - TOTAL TRANSFERS',
  '6.2 - M10',
  '6.2 - M41',
  '6.2 - M62',
  '6.2 - M40 METAL',
  '6.2 - M61 METAL',
  '6.2 - M71',
  '6.2 - M81',
  '6.2 - M82',
  '6.2 - M72',
  '6.2 - M63',
  '6.2 - M66',
  '6.2 - M67',
  '6.2 - M64',
  '6.2 - M65',
  '6.2 - M73',
  '6.2 - M79',
  '6.2 - M90',
  '6.2 - M94',
  '6.2 - M99',
  'OFF-SITE RELEASE TOTAL',
  '6.2 - M20',
  '6.2 - M24',
  '6.2 - M26',
  '6.2 - M28',
  '6.2 - M93',
  'OFF-SITE RECYCLED TOTAL',
  '6.2 - M56',
  '6.2 - M92',
  'OFF-SITE ENERGY RECOVERY T',
  '6.2 - M40 NON-METAL',
  '6.2 - M50',
  '6.2 - M54',
  ... 22 more items
]
✅ Simplified TRI data written to data/tri.json (3427 records)
PS D:\pollutionnearme> Get-Content data/tri.json -TotalCount 20
[
  {
    "facility": "AMUNEAL MANUFACTURING",
    "chemical": "Ammonia",
    "release_lbs": 0,
    "year": "2023"
  },
  {
    "facility": "INTERSTATE CHEMICAL CO INC",
    "chemical": "Methyl isobutyl ketone",
    "release_lbs": 0,
    "year": "2023"
  },
  {
    "facility": "GRAFTECH USA LLC",
    "chemical": "Benzo[g,h,i]perylene",
    "release_lbs": 0,
    "year": "2023"
  },
  {
PS D:\pollutionnearme>